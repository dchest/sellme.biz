---
author: "dchest"
category: "Разное"
date: 2007-10-25 17:09:41 +00:00
primary_category: "Разное"
status: "Publish"
title: "Что я сегодня делал"
---
<p>Кстати, к <a href="/article/pro-proshloe-i-budushchee-sellmeru">предыдущей теме</a> – может мне начать блоггить о том, что я сегодня делал? Пробуем :-)</p>
<p>	<p>Итак, сегодня я готовил финальный платный релиз <a href="http://www.codingrobots.com/memoires/">Mémoires</a>. (Это после того, как ответил на вопросы для одного интервью, которое выйдет в следующий четверг.)</p></p>
<p>	<p>Вчера я интегрировал работу с лицензиями в саму программу, а сегодня день начался с того, что я начал писать на <span class="caps">PHP</span> ключегенератор (защита уже готовая, мне надо было только кастомизировать скрипты под мои нужды). Просто это сделать не получилось – оказалось, на моем Маке <span class="caps">PHP</span> не скомпилирован с одной нужной библиотекой. Решил писать прямо на сервере. На сервере <span class="caps">PHP</span> тоже оказался без библиотеки. Пришлось собирать для него кастомную версию <span class="caps">PHP</span>, скомпилированную с ней. На это ушло пару часов (пока поймешь эти все настройки, да пока все скачается и скомпилируется...). </p></p>
<p>	<p>Ключегенератор поставил, теперь надо было сделать так, чтобы он принимал данные от серваков <a href="http://www.cleverbridge.com">cleverbridge</a> и отдавал им обратно ключ.</p></p>
<p>	<p>(В общем, система работает так: клиент покупает софт, серваки cleverbridge отправляют моему серваку данные, типа имени и фамилии, мой сервак генерит ключ и отправляет им. Cleverbridge потом отправляют ключ клиенту. Продажа есть.)</p></p>
<p>	<p>Дальше поискал в гугле как сделать <span class="caps">HTTP</span> authentication через апач (никогда не запоминал этих вещей). Сделал.</p></p>
<p>	<p>Потом надо было все это дело протестировать. Спросил у Фрэнка из cleverbridge про тестовые ордера и пошел обедать. Пришел – он мне ответил, что надо использовать специальный тестовый номер кредитки. Я попробовал – упс, ключа нет. Все оказалось просто – забыл в шаблоне указать параметр &lt;Key&gt;. Указал – заработало!</p></p>
<p>	<p>Все, регистрация готова.</p></p>
<p>	<p>Дальше пошли размышления по поводу даты релиза. Если сегодня выпускать, то нужно еще сайт сделать, а это я вряд ли успею. Если завтра – то лучше не выпускать – завтра выходит Mac OS X Leopard и все блоги будут шуметь про него, мелким девелоперам не пробиться. Придется выпускать после выхода Leopard. А для этого надо проверить, работает ли Mémoires в нем.</p></p>
<p>	<p>Полчаса ушло на установку беты леопарда заранее скачанной по битторенту (а что делать, если я пока не <span class="caps">ADC</span> member?). Установил, попробовал – есть пара визуальных глюков. Ребут обратно, кодинг, потом опять тест, ребут обратно, кодинг – и так, пока не получил нормально работающий продукт.</p></p>
<p>	<p>Кусочек кода хотите?</p></p>
<p><pre></p>
<p>	if (CRMacOSXVersion() &#60;= 0x1049)</p>
<p>	{</p>
<p>		// Styled window, Tiger or earlier</p>
<p>		[styledWindow setTopBorder:25.0];</p>
<p>		[styledWindow setBottomBorder:35.0];</p>
<p>         ...</p>
<p></pre></p>
<p>	<p>Окей. Сайт?</p></p>
<p>	<p>Ах, нифига – я же забыл про иконку! Я уже <a href="http://blog.codingrobots.com/2007/09/08/that-m-on-the-book/">писал в блоге на Coding Robots</a> про то, как рисовал иконку для Mémoires и случайно получился клон иконки от Mori. Holly Dolly, sorry, Mori! Сходите, кстати, <a href="http://blog.codingrobots.com/2007/09/08/that-m-on-the-book/">почитайте</a>. Я подожду...</p></p>
<p>	<p>ОК, поехали рисовать иконку. Идей много, способностей их изобразить мало. Решил остановиться на той же книжке, только с закругленными углами, другого цвета и торчащих из нее фоток. <a href="http://www.inkscape.org">Inkscape</a> в зубы и поехали... Цвет поменял, углы закруглил. Фотку долго выбирать не пришлось. Долго я мучился с расположением фотки, но в итоге что-то более-менее нормальное получилось. Так, теперь надо убрать эту букву &#8220;M&#8221;. На что бы ее заменить? На надпись &#8220;Mémoires&#8221;? Отлично, подходит. Все, вроде красиво, немножко подправить и можно рендерить.</p></p>
<p>	<p>Вот что получилось:</p></p>
<p>	<p><img src="/pics/images/29.png" alt="" /></p></p>
<p>	<p>(Знаю, не супер, но из меня большего не выковырешь. Для 2.0 можно будет и заказать у крутых дизайнеров.)</p></p>
<p>	<p>После рендеринга открываю <a href="http://www.gimp.org">Gimp</a>. Знаете, маленькие иконки – это не просто уменьшенные большие. Их надо еще править, чтобы получить нормальное изображение. Чем я и занимался еще несколько часов.</p></p>
<p>	<p>Все, готово. Дальше надо положить иконки в icns-архив. Готово, можно заменять в приложении.</p></p>
<p>	<p>Остался сайт. Поковырялся немножко и понял, что сегодня я слишком устал, чтобы его делать. Пошел читать блоги и писать в Sellme.biz.</p></p>
<p>	<p>Конец эфира. Вам понравилось? (Комментарии! Ура!!!)</p></p>
